(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{68:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return b}));var r=t(2),a=t(6),o=(t(0),t(83)),i={id:"formiz",title:"<Formiz> component"},l={unversionedId:"core/formiz",id:"core/formiz",isDocsHomePage:!1,title:"<Formiz> component",description:"Import",source:"@site/docs/core/Formiz-component.mdx",slug:"/core/formiz",permalink:"/docs/core/formiz",editUrl:"https://github.com/ivan-dalmet/formiz/edit/master/documentation/docs/core/Formiz-component.mdx",version:"current",sidebar:"docs",previous:{title:"Other examples",permalink:"/docs/demos/other-examples"},next:{title:"<FormizStep> component",permalink:"/docs/core/formiz-step"}},c=[{value:"Import",id:"import",children:[]},{value:"Props",id:"props",children:[{value:"onSubmit(values)",id:"onsubmitvalues",children:[]},{value:"onValidSubmit(values)",id:"onvalidsubmitvalues",children:[]},{value:"onInvalidSubmit(values)",id:"oninvalidsubmitvalues",children:[]},{value:"onChange(values)",id:"onchangevalues",children:[]},{value:"onValid()",id:"onvalid",children:[]},{value:"onInvalid()",id:"oninvalid",children:[]},{value:"autoForm",id:"autoform",children:[]},{value:"id",id:"id",children:[]},{value:"initialValues",id:"initialvalues",children:[]},{value:"connect",id:"connect",children:[]}]},{value:"Handle API errors",id:"handle-api-errors",children:[]}],m={rightToc:c};function b(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},m,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"import"},"Import"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"import { Formiz } from '@formiz/core'\n")),Object(o.b)("hr",null),Object(o.b)("h2",{id:"props"},"Props"),Object(o.b)("h3",{id:"onsubmitvalues"},"onSubmit(values)"),Object(o.b)("p",null,"Triggered when the form is ",Object(o.b)("strong",{parentName:"p"},"submitted"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz onSubmit={(values) => console.log(values)}>\n  {/* Your fields here */}\n</Formiz>\n")),Object(o.b)("h3",{id:"onvalidsubmitvalues"},"onValidSubmit(values)"),Object(o.b)("p",null,"Triggered when the form is ",Object(o.b)("strong",{parentName:"p"},"valid")," and ",Object(o.b)("strong",{parentName:"p"},"submitted"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz onValidSubmit={(values) => console.log(values)}>\n  {/* Your fields here */}\n</Formiz>\n")),Object(o.b)("h3",{id:"oninvalidsubmitvalues"},"onInvalidSubmit(values)"),Object(o.b)("p",null,"Triggered when the form is ",Object(o.b)("strong",{parentName:"p"},"invalid")," and ",Object(o.b)("strong",{parentName:"p"},"submitted"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz onInvalidSubmit={(values) => console.log(values)}>\n  {/* Your fields here */}\n</Formiz>\n")),Object(o.b)("h3",{id:"onchangevalues"},"onChange(values)"),Object(o.b)("p",null,"Triggered every time the form changes.",Object(o.b)("br",null),"\n\u26a0\ufe0f This is triggered when each field is mounted.",Object(o.b)("br",null),"\n\u2139\ufe0f Instead you can get ",Object(o.b)("inlineCode",{parentName:"p"},"values")," of the form with the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/core/use-form#values"}),"useForm()")," hook."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz onChange={(values) => console.log(values)}>\n  {/* Your fields here */}\n</Formiz>\n")),Object(o.b)("h3",{id:"onvalid"},"onValid()"),Object(o.b)("p",null,"Triggered when the form is ",Object(o.b)("strong",{parentName:"p"},"valid"),".",Object(o.b)("br",null),"\n\u2139\ufe0f Instead you can get ",Object(o.b)("inlineCode",{parentName:"p"},"isValid")," value with the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/core/use-form#isvalid"}),"useForm()")," hook."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz onValid={() => console.log('Form is valid')}>\n  {/* Your fields here */}\n</Formiz>\n")),Object(o.b)("h3",{id:"oninvalid"},"onInvalid()"),Object(o.b)("p",null,"Triggered when the form is ",Object(o.b)("strong",{parentName:"p"},"invalid"),".",Object(o.b)("br",null),"\n\u2139\ufe0f Instead you can get ",Object(o.b)("inlineCode",{parentName:"p"},"isValid")," value with the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/core/use-form#isvalid"}),"useForm()")," hook."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz onInvalid={() => console.log('Form is invalid')}>\n  {/* Your fields here */}\n</Formiz>\n")),Object(o.b)("h3",{id:"autoform"},"autoForm"),Object(o.b)("p",null,"Set to ",Object(o.b)("inlineCode",{parentName:"p"},"true")," to auto add a ",Object(o.b)("inlineCode",{parentName:"p"},"<form>")," element with auto onSubmit.",Object(o.b)("br",null),"\n\u2139\ufe0f Instead you can get the ",Object(o.b)("inlineCode",{parentName:"p"},"submit()")," method with the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/core/use-form#submit"}),"useForm()")," hook and use it with your own ",Object(o.b)("inlineCode",{parentName:"p"},"<form>")," element."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz autoForm>\n  {/* Your fields here */}\n</Formiz>\n")),Object(o.b)("h3",{id:"id"},"id"),Object(o.b)("p",null,"Allows you to pass a custom id will be used to create the ids of the fields. By default, it is generated automatically.\nBut for SSR rendering like in NextJS, you may want to replace the automatically generated identifiers by a predictable id."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),'<Formiz id="custom-id">\n  {/* Your fields here */}\n</Formiz>\n')),Object(o.b)("h3",{id:"initialvalues"},"initialValues"),Object(o.b)("p",null,"Allows you to pass some initial values to the form.\nIf a field is mounted, it will lookup into this object to set his initial value."),Object(o.b)("p",null,"This is usefull when you getting data from an API like an edit page."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz initialValues={{ name: 'Lea', email: 'lea@company.com' }}>\n  <MyField name=\"name\" /> {/* Will be prefilled with 'Lea' */}\n  <MyField name=\"email\" /> {/* Will be prefilled with 'lea@company.com' */}\n</Formiz>\n")),Object(o.b)("p",null,"You can use nested objects and arrays."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"<Formiz\n  initialValues={{\n    collection: [\n      { name: 'Lea', email: 'lea@company.com' },\n      { name: 'John', email: 'john@company.com' },\n    ]\n  }}\n>\n  <MyField name=\"collection[0].name\" /> {/* Will be prefilled with 'Lea' */}\n  <MyField name=\"collection[0].email\" /> {/* Will be prefilled with 'lea@company.com' */}\n  <MyField name=\"collection[1].name\" /> {/* Will be prefilled with 'John' */}\n  <MyField name=\"collection[1].email\" /> {/* Will be prefilled with 'john@company.com' */}\n</Formiz>\n")),Object(o.b)("h3",{id:"connect"},"connect"),Object(o.b)("p",null,"Allow you to connect your form with the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/core/use-form"}),"useForm()")," hook.",Object(o.b)("br",null),"\nSee ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/core/use-form"}),"useForm() documentation")," for more details"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const MyForm = () => {\n  const form = useForm()\n  return (\n    <Formiz connect={form}>\n      {/* Your fields here */}\n    </Formiz>\n  )\n}\n")),Object(o.b)("hr",null),Object(o.b)("h2",{id:"handle-api-errors"},"Handle API errors"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const myForm = useForm()\n\n<Formiz\n  connect={myForm}\n  onValidSubmit={(values) => {\n    myForm.invalidateFields({\n      fieldName: 'Error message',\n    })\n  }}\n/>\n  {/* Your fields here */}\n</Formiz>\n")))}b.isMDXComponent=!0},83:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return p}));var r=t(0),a=t.n(r);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var m=a.a.createContext({}),b=function(e){var n=a.a.useContext(m),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=b(e.components);return a.a.createElement(m.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},d=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,m=c(e,["components","mdxType","originalType","parentName"]),u=b(t),d=r,p=u["".concat(i,".").concat(d)]||u[d]||s[d]||o;return t?a.a.createElement(p,l(l({ref:n},m),{},{components:t})):a.a.createElement(p,l({ref:n},m))}));function p(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var m=2;m<o;m++)i[m]=t[m];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);