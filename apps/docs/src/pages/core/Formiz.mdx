import { CodeEditor } from "@/components/CodeEditor";
import { Type } from "@/components/Type";
import { formizFiles } from "@/templates/formiz.ts";
import { Formiz } from "@formiz/core";
import { Callout } from "nextra-theme-docs";

# Formiz

This component creates a form context.

## Import

```tsx
import { Formiz } from "@formiz/core";
```

## Props

### id

<Type type="string"/>
Allows you to pass a custom id, which will be used to create the ids of the fields.
By default, it is generated automatically.

```tsx
<Formiz id="custom-id">{/* Your fields here */}</Formiz>
```

### autoForm

<Type type="boolean | 'form' | 'step'"/>
- Set to `true` or `'form'` to wrap children in a `<form>` element with auto `submit()` on form submission.
- Set to `'step'` to wrap children in a `<form>` element with auto `submitStep()` on form submission.

```tsx
<Formiz autoForm>
  {/* your fields here */}
  <button type="submit">Submit</button>
</Formiz>
```

### connect

<Type type="Form"/>
Allows you to connect your form with the `useForm()` hook.

See [`useForm()`](/core/useForm) documentation for more details.

```tsx
import { Formiz, useForm } from "@formiz/core";

const MyForm = () => {
  const form = useForm();

  return <Formiz connect={form}>{/* Your fields here */}</Formiz>;
};
```

### initialValues

<Type type="Record<string, unknown>" />
Allows you to pass some initial values to the form. If a field is mounted, it will
lookup into this object to set his initial value. This is usefull when you are getting
data from an API like an edit page.

```tsx
<Formiz initialValues={{ myField: "my initial value" }}>
  {/* your fields here */}
</Formiz>
```

### initialStepName

<Type type="string" />
Allows you to define the initial step.

```tsx
<Formiz initialStepName="step-2">{/* your fields here */}</Formiz>
```

### onSubmit(values)

<Type type="(values) => void" />
Function triggered on form submission, whether it is valid or not.

```tsx
<Formiz onSubmit={(values) => console.log(values)}>
  {/* your fields here */}
</Formiz>
```

### onValidSubmit(values)

<Type type="(values) => void" />
Function triggered on form submission, only if it is valid.

```tsx
<Formiz onValidSubmit={(values) => console.log(values)}>
  {/* your fields here */}
</Formiz>
```

### onInvalidSubmit(values)

<Type type="(values) => void" />
Function triggered on form submission, only if it is invalid.

```tsx
<Formiz onInvalidSubmit={(values) => console.log(values)}>
  {/* your fields here */}
</Formiz>
```

### onValuesChange(values)

<Type type="(values) => void" />
Function triggered on any form field value change.

```tsx
<Formiz onValuesChange={(values) => console.log(values)}>
  {/* your fields here */}
</Formiz>
```

### onValid()

<Type type="() => void" />
Triggered when the form is **valid**.

<Callout type="info">
  Instead you can get `isValid` value with the [`useForm()`](/core/useForm)
  hook.
</Callout>

```tsx
<Formiz onValid={() => console.log("form is valid")}>
  {/* your fields here */}
</Formiz>
```

### onInvalid()

<Type type="() => void" />
Triggered when the form is **invalid**.

<Callout type="info">
  Instead you can get `isValid` value with the [`useForm()`](/core/useForm)
  hook.
</Callout>

```tsx
<Formiz onInvalid={() => console.log("form is invalid")}>
  {/* your fields here */}
</Formiz>
```
